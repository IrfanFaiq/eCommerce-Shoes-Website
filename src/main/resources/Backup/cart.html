<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Shopping Cart</title>
    <link rel="stylesheet" th:href="@{/assets/css/style.css}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
<div class="card">
    <div class="row">
        <div class="col-md-8 cart">
            <div class="title">
                <div class="row">
                    <div class="col"><h4><b>Shopping Cart</b></h4></div>
                    <div class="col align-self-center text-right text-muted" th:text="${#lists.size(orderItems)} + ' items'"></div>
                </div>
            </div>
            <div th:each="item : ${orderItems}">
                <div class="row border-top border-bottom">
                    <div class="row main align-items-center">
                        <div class="col-2"><img class="img-fluid" th:src="@{'/assets/img/' + ${item.product.product_image}}"></div>
                        <div class="col">
                            <div class="row text-muted" th:text="${item.product.product_name.product_name}"></div>
<!--                            <div class="row" th:text="${item.product.product_description}"></div>-->
                        </div>
                        <div class="col">
<!--                            <a href="#">-</a><a href="#" class="border" th:text="${item.order_items_productquantity}">3</a><a href="#">+</a>-->
                            <a href="#">-</a><input type="text" class="border" th:value="${item.order_items_productquantity}" /><a href="#">+</a>
                        </div>
<!--                        this is where it gets the productprice from the database-->
                        <div class="col" th:text="'€ ' + ${item.product.product_price}"><span class="close">&#10005;</span></div>
                    </div>
                </div>
            </div>
            <div class="back-to-shop"><a href="#">&leftarrow;</a><span class="text-muted">Back to shop</span></div>
        </div>
        <div class="col-md-4 summary">
            <div><h5><b>Summary</b></h5></div>
            <hr>
            <div class="row">
                <div class="col" style="padding-left:0;">ITEMS <span th:text="${#lists.size(orderItems)}"></span></div>
<!--                <div class="col text-right">€ <span th:text="${#numbers.formatDecimal(orderItems.stream().mapToDouble(i -> i.product.product_price * i.order_items_productquantity).sum(), 2)}"></span></div>-->
                <div class="col text-right">€ 40<span class="close">&#10005;</span></div>
            </div>
            <div class="row" style="border-top: 1px solid rgba(0,0,0,.1); padding: 2vh 0;">
                <div class="col">TOTAL PRICE</div>
<!--                <div class="col text-right">€ <span th:text="${#numbers.formatDecimal(orderItems.stream().mapToDouble(i -> i.product.product_price * i.order_items_productquantity).sum(), 2)}"></span></div>-->
<!--                <div class="col text-right">€ 80<span class="close">&#10005;</span></div>-->
            </div>
            <button class="btn">CHECKOUT</button>
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
</body>
</html>
